(this.webpackJsonpreact_redux5_1=this.webpackJsonpreact_redux5_1||[]).push([[0],[,,,function(t,e,s){t.exports=s(10)},,,,,function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0),n=s.n(i),a=s(1),r=s.n(a);class o{static ContinueLoading(){var t=window.temp;t&&("/api/update"===t.url?d.getDataById(t,window.textId,t.url):d.getData(t,t.url)),this.MessageOff()}static MessageOff(){document.getElementById("loginMessage").style.display="none"}static MessageOn(t){window.temp=t,document.getElementById("loginMessage").style.display="block",document.getElementById("login").style.display="block",a.render(i.createElement("h1",null,"LOGIN PLEASE"),document.querySelector("#loginMessage"))}}class l extends i.Component{constructor(t){super(t),this.url=void 0,this.state={style:"submitStyle"},this.loginOk=()=>{console.log("Login ok"),this.setState({style:"submitStyleGreen"}),o.ContinueLoading(),setTimeout(()=>{document.getElementById("login").style.display="none"},1500)},this.submit=this.submit.bind(this),this.url="/account/login",document.getElementById("login").style.display="block"}submit(t){t.preventDefault();var e="test_e",s="test_p",i=document.getElementById("email"),n=document.getElementById("password");i&&(e=i.value),n&&(s=n.value),window.fetch(this.url+"?email="+String(e)+"&password="+String(s),{credentials:"same-origin"}).then(t=>t.ok?this.loginOk():console.log("Login error"))}componentWillUnmount(){}render(){return i.createElement("div",null,i.createElement("div",{id:this.state.style},i.createElement("input",{type:"checkbox",id:"loginButton",className:"regular-checkbox",onClick:this.submit}),i.createElement("label",{htmlFor:"loginButton"},"\u0412\u043e\u0439\u0442\u0438")),"\xa0\xa0\xa0\xa0",i.createElement("span",null,i.createElement("input",{type:"text",id:"email",name:"email"})),"\xa0\xa0\xa0\xa0",i.createElement("span",null,i.createElement("input",{type:"text",id:"password",name:"password"})))}}class d{static getData(t,e){o.MessageOff();try{window.fetch(e,{credentials:"same-origin"}).then(t=>t.ok?t.json():Promise.reject(t)).then(e=>{t.mounted&&t.setState({data:e})}).catch(e=>o.MessageOn(t))}catch(s){console.log("Loader try-catch: 1")}}static getDataById(t,e,s){o.MessageOff();try{window.fetch(s+"?id="+String(e),{credentials:"same-origin"}).then(t=>t.ok?t.json():Promise.reject(t)).then(e=>{t.mounted&&t.setState({data:e})}).catch(e=>o.MessageOn(t))}catch(i){console.log("Loader try-catch: 2")}}static postData(t,e,s){var i=String(Date.now());o.MessageOff();try{window.fetch(s,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:e,credentials:"same-origin"}).then(t=>t.ok?t.json():Promise.reject(t)).then(e=>t.setState({data:e,time:i})).catch(e=>o.MessageOn(t))}catch(n){console.log("Loader try-catch: 3")}}static deleteDataById(t,e,s,i){o.MessageOff();try{window.fetch(s+"?id="+String(e)+"&pg="+String(i),{method:"DELETE",credentials:"same-origin"}).then(t=>t.ok?t.json():Promise.reject(t)).then(e=>{t.mounted&&t.setState({data:e})}).catch(e=>o.MessageOn(t))}catch(n){console.log("Loader try-catch: 2")}}}class c extends i.Component{constructor(t){super(t),this.url=void 0,this.formId=void 0,this.mounted=void 0,this.state={data:null},this.mainForm=void 0,this.url="/api/read",this.formId=null,this.mounted=!0,this.mainForm=i.createRef()}componentDidMount(){this.formId=this.mainForm.current,d.getData(this,this.url)}componentDidUpdate(){a.render(i.createElement("div",null,i.createElement(u,{listener:this,formId:this.formId,jsonStorage:!0,id:!0})),document.querySelector("#searchButton1")),document.getElementById("header").style.backgroundColor="#e9ecee"}componentWillUnmount(){this.mounted=!1}render(){var t=[];if(null!=this.state.data)for(var e=0;e<this.state.data.genresNamesCS.length;e++)t.push(i.createElement(m,{key:"checkbox ".concat(e),id:e,jsonStorage:this.state.data,listener:!0,formId:!0}));return i.createElement("div",null,i.createElement("form",{ref:this.mainForm,id:"dizzy"},t),i.createElement("div",{id:"messageBox"},null!=this.state.data&&null!=this.state.data.textCS&&i.createElement(h,{formId:this.formId,jsonStorage:this.state.data,listener:!0,id:!0})))}}class m extends i.Component{render(){return i.createElement("div",{id:"checkboxStyle"},i.createElement("input",{name:"chkButton",value:this.props.id,type:"checkbox",id:this.props.id,className:"regular-checkbox",defaultChecked:!1}),i.createElement("label",{htmlFor:this.props.id},(t=>this.props.jsonStorage.genresNamesCS[t])(this.props.id)))}}class h extends i.Component{constructor(t){super(t),this.hideMenu=this.hideMenu.bind(this)}hideMenu(t){if("none"!==this.props.formId.style.display)return this.props.formId.style.display="none",void(document.getElementById("login").style.display="none");this.props.formId.style.display="block"}render(){return this.props.jsonStorage&&0!==Number(this.props.jsonStorage.savedTextId)&&(window.textId=Number(this.props.jsonStorage.savedTextId)),i.createElement("span",null,null!=this.props.jsonStorage?null!=this.props.jsonStorage.textCS?i.createElement("span",null,i.createElement("div",{id:"songTitle",onClick:this.hideMenu},this.props.jsonStorage.titleCS),i.createElement("div",{id:"songBody"},this.props.jsonStorage.textCS)):"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440":"")}}class u extends i.Component{constructor(t){super(t),this.url=void 0,this.submit=this.submit.bind(this),this.url="/api/read"}submit(t){t.preventDefault(),document.getElementById("login").style.display="none";var e={CheckedCheckboxesJS:new FormData(this.props.formId).getAll("chkButton").map(t=>Number(t)+1)},s=JSON.stringify(e);d.postData(this.props.listener,s,this.url),document.getElementById("header").style.backgroundColor="slategrey"}componentWillUnmount(){}render(){return i.createElement("div",{id:"submitStyle"},i.createElement("input",{form:"dizzy",type:"checkbox",id:"submitButton",className:"regular-checkbox",onClick:this.submit}),i.createElement("label",{htmlFor:"submitButton"},"\u041f\u043e\u0438\u0441\u043a"))}}class p extends i.Component{constructor(t){super(t),this.url=void 0,this.formId=void 0,this.mounted=void 0,this.state={data:null,time:null},this.mainForm=void 0,this.url="/api/update",this.formId=null,this.mounted=!0,this.mainForm=i.createRef()}componentDidMount(){this.formId=this.mainForm.current,d.getDataById(this,window.textId,this.url)}componentWillUnmount(){this.mounted=!1}render(){var t=[];if(null!=this.state&&null!=this.state.data)for(var e=0;e<this.state.data.genresNamesCS.length;e++)t.push(i.createElement(g,{key:"checkbox "+e+this.state.time,id:e,jsonStorage:this.state.data,listener:!0,formId:!0}));return i.createElement("div",null,i.createElement("form",{ref:this.mainForm,id:"dizzy"},t,null!=this.state.data&&i.createElement(v,{listener:this,formId:this.formId,jsonStorage:this.state.data,id:!0})),null!=this.state.data&&null!=this.state.data.textCS&&i.createElement(b,{formId:this.formId,jsonStorage:this.state.data,listener:!0,id:!0}))}}class g extends i.Component{render(){var t="checked"===this.props.jsonStorage.isGenreCheckedCS[this.props.id];return i.createElement("div",{id:"checkboxStyle"},i.createElement("input",{name:"chkButton",value:this.props.id,type:"checkbox",id:this.props.id,className:"regular-checkbox",defaultChecked:t}),i.createElement("label",{htmlFor:this.props.id},(t=>this.props.jsonStorage.genresNamesCS[t])(this.props.id)))}}class b extends i.Component{constructor(t){super(t),this.inputText=t=>{var e=t.target.value;this.props.jsonStorage.textCS=e,this.forceUpdate()},this.hideMenu=this.hideMenu.bind(this)}hideMenu(t){"none"===this.props.formId.style.display?this.props.formId.style.display="block":this.props.formId.style.display="none"}render(){return i.createElement("div",null,i.createElement("p",null),null!=this.props.jsonStorage?null!=this.props.jsonStorage.textCS?i.createElement("div",null,i.createElement("h1",{onClick:this.hideMenu},this.props.jsonStorage.titleCS),i.createElement("h5",null,i.createElement("textarea",{name:"msg",cols:66,rows:30,form:"dizzy",value:this.props.jsonStorage.textCS,onChange:this.inputText}))):"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0441\u043d\u044e":"loading..")}}class v extends i.Component{constructor(t){super(t),this.url=void 0,this.submit=this.submit.bind(this),this.url="/api/update"}submit(t){t.preventDefault();var e=new FormData(this.props.formId),s={CheckedCheckboxesJS:e.getAll("chkButton").map(t=>Number(t)+1),TextJS:e.get("msg"),TitleJS:this.props.jsonStorage.titleCS,SavedTextId:window.textId},i=JSON.stringify(s);d.postData(this.props.listener,i,this.url)}componentWillUnmount(){}render(){return i.createElement("div",{id:"submitStyle"},i.createElement("input",{type:"checkbox",id:"submitButton",className:"regular-checkbox",onClick:this.submit}),i.createElement("label",{htmlFor:"submitButton"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))}}var y=p;class E extends i.Component{constructor(t){super(t),this.url=void 0,this.formId=void 0,this.mounted=void 0,this.state={data:null,time:null},this.mainForm=void 0,this.url="/api/create",this.formId=null,this.mounted=!0,this.mainForm=i.createRef()}componentDidMount(){this.formId=this.mainForm.current,d.getData(this,this.url)}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){var t=0;this.state.data&&(t=Number(this.state.data.savedTextId)),0!==t&&(window.textId=t)}render(){var t=[];if(null!=this.state.data)for(var e=0;e<this.state.data.genresNamesCS.length;e++)t.push(i.createElement(f,{key:"checkbox ".concat(e).concat(this.state.time),id:e,jsonStorage:this.state.data,listener:!0,formId:!0}));var s=this.state.data;return s&&(s.textCS||(s.textCS=""),s.titleCS||(s.titleCS="")),i.createElement("div",null,i.createElement("form",{ref:this.mainForm,id:"dizzy"},t,null!=this.state.data&&i.createElement(C,{listener:this,formId:this.formId,id:!0,jsonStorage:!0})),null!=this.state.data&&i.createElement(S,{formId:this.formId,jsonStorage:s,listener:!0,id:!0}))}}class f extends i.Component{render(){var t="checked"===this.props.jsonStorage.isGenreCheckedCS[this.props.id];return i.createElement("div",{id:"checkboxStyle"},i.createElement("input",{name:"chkButton",value:this.props.id,type:"checkbox",id:this.props.id,className:"regular-checkbox",defaultChecked:t}),i.createElement("label",{htmlFor:this.props.id},(t=>this.props.jsonStorage.genresNamesCS[t])(this.props.id)))}}i.Component;class S extends i.Component{constructor(...t){super(...t),this.inputText=t=>{var e=t.target.value;this.props.jsonStorage.textCS=e,this.forceUpdate()},this.inputTitle=t=>{var e=t.target.value;this.props.jsonStorage.titleCS=e,this.forceUpdate()}}render(){return i.createElement("div",null,i.createElement("p",null),null!=this.props.jsonStorage?i.createElement("div",null,i.createElement("h5",null,i.createElement("textarea",{name:"ttl",cols:66,rows:1,form:"dizzy",value:this.props.jsonStorage.titleCS,onChange:this.inputTitle})),i.createElement("h5",null,i.createElement("textarea",{name:"msg",cols:66,rows:30,form:"dizzy",value:this.props.jsonStorage.textCS,onChange:this.inputText}))):"loading..")}}class C extends i.Component{constructor(t){super(t),this.url=void 0,this.submit=this.submit.bind(this),this.url="/api/create"}submit(t){t.preventDefault();var e=new FormData(this.props.formId),s={CheckedCheckboxesJS:e.getAll("chkButton").map(t=>Number(t)+1),TextJS:e.get("msg"),TitleJS:e.get("ttl")},i=JSON.stringify(s);d.postData(this.props.listener,i,this.url)}componentWillUnmount(){}render(){return i.createElement("div",{id:"submitStyle"},i.createElement("input",{type:"checkbox",id:"submitButton",className:"regular-checkbox",onClick:this.submit}),i.createElement("label",{htmlFor:"submitButton"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))}}var k=E;class x extends i.Component{constructor(t){super(t),this.url=void 0,this.mounted=void 0,this.state={data:null},this.click=t=>{t.preventDefault();var e=Number(t.target.id.slice(7)),s={pageNumber:this.state.data.pageNumber,navigationButtons:[e]},i=JSON.stringify(s);d.postData(this,i,this.url)},this.redirect=t=>{t.preventDefault();var e=Number(t.target.id);this.props.listener.setState({id:e})},this.delete=t=>{t.preventDefault();var e=Number(t.target.id);console.log("You want to delete song with id: "+e),d.deleteDataById(this,e,this.url,this.state.data.pageNumber)},this.url="/api/catalog",this.mounted=!0}componentWillUnmount(){this.mounted=!1}componentDidMount(){d.getDataById(this,1,this.url)}render(){if(!this.state.data)return null;for(var t=[],e=0;e<this.state.data.titlesAndIds.length;e++)t.push(i.createElement("tr",{key:"song "+e,className:"bg-warning"},i.createElement("td",null),i.createElement("td",null,i.createElement("button",{className:"btn btn-outline-light",id:this.state.data.titlesAndIds[e].item2,onClick:this.redirect},this.state.data.titlesAndIds[e].item1)),i.createElement("td",null,i.createElement("button",{className:"btn btn-outline-light",id:this.state.data.titlesAndIds[e].item2,onClick:this.delete},"\u274c"))));return i.createElement("div",{className:"row"},i.createElement("p",{style:{marginLeft:"12%"}},"\u0412\u0441\u0435\u0433\u043e \u043f\u0435\u0441\u0435\u043d: ",this.state.data.songsCount," \xa0 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430: ",this.state.data.pageNumber," \xa0"),i.createElement("p",null),i.createElement("p",null),i.createElement("table",{className:"table",id:"catalogTable"},i.createElement("thead",{className:"thead-dark "},i.createElement("tr",null,i.createElement("th",null),i.createElement("th",null,i.createElement("form",null,i.createElement("button",{id:"js-nav-1",className:"btn btn-info",onClick:this.click},"<\u041d\u0430\u0437\u0430\u0434"),"\xa0",i.createElement("button",{id:"js-nav-2",className:"btn btn-info",onClick:this.click},"\u0412\u043f\u0435\u0440\u0451\u0434>"))),i.createElement("th",null))),i.createElement("tbody",null,t)))}}var I=x;window.textId=0;class w extends i.Component{constructor(t){super(t),this.visibilityCss=void 0,this.visibilityFlag=void 0,this.menu=void 0,this.buttons=void 0,this.state={id:null},this.select=this.select.bind(this),this.visibilityCss=["act","pas","pas","pas"],this.visibilityFlag=[!0,!1,!1,!1],this.menu=["\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","\u041a\u0430\u0442\u0430\u043b\u043e\u0433"]}select(t){var e=Number(t.currentTarget.getAttribute("id").slice(5));1===e&&0===window.textId||(this.visibilityFlag.forEach((t,e)=>this.visibilityFlag[e]=!1),this.visibilityFlag[e]=!this.visibilityFlag[e],this.forceUpdate())}handleClick(t){t.preventDefault(),alert(t.currentTarget.tagName)}componentDidUpdate(){this.state.id&&this.setState({id:null}),this.visibilityFlag[0]||a.render(i.createElement("div",null),document.querySelector("#searchButton1"))}render(){this.state.id&&(this.visibilityFlag=[!1,!0,!1,!1],window.textId=this.state.id),this.visibilityFlag.forEach((t,e)=>this.visibilityFlag[e]?this.visibilityCss[e]="act":this.visibilityCss[e]="pas"),this.buttons=[];for(var t=0;t<4;t++)this.buttons.push(i.createElement("button",{key:"menu "+t,onClick:this.select,id:"menu "+String(t),className:this.visibilityCss[t]},this.menu[t]));return i.createElement("div",null,i.createElement("div",{id:"header"},this.buttons),!0===this.visibilityFlag[0]&&i.createElement("div",{id:"renderContainer1"},i.createElement(c,{data:!0})),!0===this.visibilityFlag[1]&&i.createElement("div",{id:"renderContainer"},i.createElement(y,{listener:!0,formId:!0,id:!0,jsonStorage:!0})),!0===this.visibilityFlag[2]&&i.createElement("div",{id:"renderContainer"},i.createElement(k,{data:!0,time:!0})),!0===this.visibilityFlag[3]&&i.createElement("div",{id:"renderContainer"},i.createElement(I,{listener:this})))}}w.defaultProps={visibilityCss:["act","pas","pas","pas"],visibilityFlag:[!0,!1,!1,!1],menu:["\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","\u041a\u0430\u0442\u0430\u043b\u043e\u0433"]},a.render(i.createElement(l,{listener:void 0,formId:!0,jsonStorage:!0,id:!0}),document.querySelector("#renderLoginForm"));s(8),s(9);console.log("start"),r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root"))}],[[3,1,2]]]);
//# sourceMappingURL=main.15267397.chunk.js.map