(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n.n(i),a=n(7),r=n.n(a),o=n(2),c=n(3),l=n(6),d=n(5),u=n(4),h=n(0),j=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,null,[{key:"ContinueLoading",value:function(){var t=window.temp;t&&("/api/update"===t.url?m.getDataById(t,window.textId,t.url):m.getData(t,t.url)),this.MessageOff()}},{key:"MessageOff",value:function(){document.getElementById("loginMessage").style.display="none"}},{key:"MessageOn",value:function(t){window.temp=t,document.getElementById("loginMessage").style.display="block",document.getElementById("login").style.display="block",a.render(Object(h.jsx)("h1",{children:"LOGIN PLEASE"}),document.querySelector("#loginMessage"))}}]),t}(),b=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).url=void 0,i.state={style:"submitStyle"},i.loginOk=function(){console.log("Login ok"),i.setState({style:"submitStyleGreen"}),j.ContinueLoading(),setTimeout((function(){document.getElementById("login").style.display="none"}),1500)},i.submit=i.submit.bind(Object(l.a)(i)),i.url="/account/login",document.getElementById("login").style.display="block",i}return Object(c.a)(n,[{key:"submit",value:function(t){var e=this;t.preventDefault();var n="test_e",i="test_p",s=document.getElementById("email"),a=document.getElementById("password");s&&(n=s.value),a&&(i=a.value),window.fetch(this.url+"?email="+String(n)+"&password="+String(i),{credentials:"same-origin"}).then((function(t){return t.ok?e.loginOk():console.log("Login error")}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{id:this.state.style,children:[Object(h.jsx)("input",{type:"checkbox",id:"loginButton",className:"regular-checkbox",onClick:this.submit}),Object(h.jsx)("label",{htmlFor:"loginButton",children:"\u0412\u043e\u0439\u0442\u0438"})]}),"\xa0\xa0\xa0\xa0",Object(h.jsx)("span",{children:Object(h.jsx)("input",{type:"text",id:"email",name:"email"})}),"\xa0\xa0\xa0\xa0",Object(h.jsx)("span",{children:Object(h.jsx)("input",{type:"text",id:"password",name:"password"})})]})}}]),n}(i.Component),m=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,null,[{key:"getData",value:function(t,e){j.MessageOff();try{window.fetch(e,{credentials:"same-origin"}).then((function(t){return t.ok?t.json():Promise.reject(t)})).then((function(e){t.mounted&&t.setState({data:e})})).catch((function(e){return j.MessageOn(t)}))}catch(n){console.log("Loader try-catch: 1")}}},{key:"getDataById",value:function(t,e,n){j.MessageOff();try{window.fetch(n+"?id="+String(e),{credentials:"same-origin"}).then((function(t){return t.ok?t.json():Promise.reject(t)})).then((function(e){t.mounted&&t.setState({data:e})})).catch((function(e){return j.MessageOn(t)}))}catch(i){console.log("Loader try-catch: 2")}}},{key:"postData",value:function(t,e,n){var i=String(Date.now());j.MessageOff();try{window.fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:e,credentials:"same-origin"}).then((function(t){return t.ok?t.json():Promise.reject(t)})).then((function(e){return t.setState({data:e,time:i})})).catch((function(e){return j.MessageOn(t)}))}catch(s){console.log("Loader try-catch: 3")}}},{key:"deleteDataById",value:function(t,e,n,i){j.MessageOff();try{window.fetch(n+"?id="+String(e)+"&pg="+String(i),{method:"DELETE",credentials:"same-origin"}).then((function(t){return t.ok?t.json():Promise.reject(t)})).then((function(e){t.mounted&&t.setState({data:e})})).catch((function(e){return j.MessageOn(t)}))}catch(s){console.log("Loader try-catch: 2")}}}]),t}(),p=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).url=void 0,s.formId=void 0,s.mounted=void 0,s.state={data:null},s.mainForm=void 0,s.url="/api/read",s.formId=null,s.mounted=!0,s.mainForm=i.createRef(),s}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.formId=this.mainForm.current,m.getData(this,this.url)}},{key:"componentDidUpdate",value:function(){a.render(Object(h.jsx)("div",{children:Object(h.jsx)(g,{listener:this,formId:this.formId,jsonStorage:!0,id:!0})}),document.querySelector("#searchButton1")),document.getElementById("header").style.backgroundColor="#e9ecee"}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var t=[];if(null!=this.state.data)for(var e=0;e<this.state.data.genresNamesCS.length;e++)t.push(Object(h.jsx)(f,{id:e,jsonStorage:this.state.data,listener:!0,formId:!0},"checkbox ".concat(e)));return Object(h.jsxs)("div",{children:[Object(h.jsx)("form",{ref:this.mainForm,id:"dizzy",children:t}),Object(h.jsx)("div",{id:"messageBox",children:null!=this.state.data&&null!=this.state.data.textCS&&Object(h.jsx)(v,{formId:this.formId,jsonStorage:this.state.data,listener:!0,id:!0})})]})}}]),n}(i.Component),f=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this;return Object(h.jsxs)("div",{id:"checkboxStyle",children:[Object(h.jsx)("input",{name:"chkButton",value:this.props.id,type:"checkbox",id:this.props.id,className:"regular-checkbox",defaultChecked:!1}),Object(h.jsx)("label",{htmlFor:this.props.id,children:(t=this.props.id,e.props.jsonStorage.genresNamesCS[t])})]})}}]),n}(i.Component),v=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).hideMenu=i.hideMenu.bind(Object(l.a)(i)),i}return Object(c.a)(n,[{key:"hideMenu",value:function(t){if("none"!==this.props.formId.style.display)return this.props.formId.style.display="none",void(document.getElementById("login").style.display="none");this.props.formId.style.display="block"}},{key:"render",value:function(){return this.props.jsonStorage&&0!==Number(this.props.jsonStorage.savedTextId)&&(window.textId=Number(this.props.jsonStorage.savedTextId)),Object(h.jsx)("span",{children:null!=this.props.jsonStorage?null!=this.props.jsonStorage.textCS?Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{id:"songTitle",onClick:this.hideMenu,children:this.props.jsonStorage.titleCS}),Object(h.jsx)("div",{id:"songBody",children:this.props.jsonStorage.textCS})]}):"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440":""})}}]),n}(i.Component),g=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).url=void 0,i.submit=i.submit.bind(Object(l.a)(i)),i.url="/api/read",i}return Object(c.a)(n,[{key:"submit",value:function(t){t.preventDefault(),document.getElementById("login").style.display="none";var e={CheckedCheckboxesJS:new FormData(this.props.formId).getAll("chkButton").map((function(t){return Number(t)+1}))},n=JSON.stringify(e);m.postData(this.props.listener,n,this.url),document.getElementById("header").style.backgroundColor="slategrey"}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"submitStyle",children:[Object(h.jsx)("input",{form:"dizzy",type:"checkbox",id:"submitButton",className:"regular-checkbox",onClick:this.submit}),Object(h.jsx)("label",{htmlFor:"submitButton",children:"\u041f\u043e\u0438\u0441\u043a"})]})}}]),n}(i.Component),O=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).url=void 0,s.formId=void 0,s.mounted=void 0,s.state={data:null,time:null},s.mainForm=void 0,s.url="/api/update",s.formId=null,s.mounted=!0,s.mainForm=i.createRef(),s}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.formId=this.mainForm.current,m.getDataById(this,window.textId,this.url)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var t=[];if(null!=this.state&&null!=this.state.data)for(var e=0;e<this.state.data.genresNamesCS.length;e++)t.push(Object(h.jsx)(y,{id:e,jsonStorage:this.state.data,listener:!0,formId:!0},"checkbox "+e+this.state.time));return Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{ref:this.mainForm,id:"dizzy",children:[t,null!=this.state.data&&Object(h.jsx)(k,{listener:this,formId:this.formId,jsonStorage:this.state.data,id:!0})]}),null!=this.state.data&&null!=this.state.data.textCS&&Object(h.jsx)(x,{formId:this.formId,jsonStorage:this.state.data,listener:!0,id:!0})]})}}]),n}(i.Component),y=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this,n="checked"===this.props.jsonStorage.isGenreCheckedCS[this.props.id];return Object(h.jsxs)("div",{id:"checkboxStyle",children:[Object(h.jsx)("input",{name:"chkButton",value:this.props.id,type:"checkbox",id:this.props.id,className:"regular-checkbox",defaultChecked:n}),Object(h.jsx)("label",{htmlFor:this.props.id,children:(t=this.props.id,e.props.jsonStorage.genresNamesCS[t])})]})}}]),n}(i.Component),x=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).inputText=function(t){var e=t.target.value;i.props.jsonStorage.textCS=e,i.forceUpdate()},i.hideMenu=i.hideMenu.bind(Object(l.a)(i)),i}return Object(c.a)(n,[{key:"hideMenu",value:function(t){"none"===this.props.formId.style.display?this.props.formId.style.display="block":this.props.formId.style.display="none"}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{}),null!=this.props.jsonStorage?null!=this.props.jsonStorage.textCS?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{onClick:this.hideMenu,children:this.props.jsonStorage.titleCS}),Object(h.jsx)("h5",{children:Object(h.jsx)("textarea",{name:"msg",cols:66,rows:30,form:"dizzy",value:this.props.jsonStorage.textCS,onChange:this.inputText})})]}):"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0441\u043d\u044e":"loading.."]})}}]),n}(i.Component),k=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).url=void 0,i.submit=i.submit.bind(Object(l.a)(i)),i.url="/api/update",i}return Object(c.a)(n,[{key:"submit",value:function(t){t.preventDefault();var e=new FormData(this.props.formId),n={CheckedCheckboxesJS:e.getAll("chkButton").map((function(t){return Number(t)+1})),TextJS:e.get("msg"),TitleJS:this.props.jsonStorage.titleCS,SavedTextId:window.textId},i=JSON.stringify(n);m.postData(this.props.listener,i,this.url)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"submitStyle",children:[Object(h.jsx)("input",{type:"checkbox",id:"submitButton",className:"regular-checkbox",onClick:this.submit}),Object(h.jsx)("label",{htmlFor:"submitButton",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}}]),n}(i.Component),S=O,C=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).url=void 0,s.formId=void 0,s.mounted=void 0,s.state={data:null,time:null},s.mainForm=void 0,s.url="/api/create",s.formId=null,s.mounted=!0,s.mainForm=i.createRef(),s}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.formId=this.mainForm.current,m.getData(this,this.url)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){var t=0;this.state.data&&(t=Number(this.state.data.savedTextId)),0!==t&&(window.textId=t)}},{key:"render",value:function(){var t=[];if(null!=this.state.data)for(var e=0;e<this.state.data.genresNamesCS.length;e++)t.push(Object(h.jsx)(I,{id:e,jsonStorage:this.state.data,listener:!0,formId:!0},"checkbox ".concat(e).concat(this.state.time)));var n=this.state.data;return n&&(n.textCS||(n.textCS=""),n.titleCS||(n.titleCS="")),Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{ref:this.mainForm,id:"dizzy",children:[t,null!=this.state.data&&Object(h.jsx)(N,{listener:this,formId:this.formId,id:!0,jsonStorage:!0})]}),null!=this.state.data&&Object(h.jsx)(w,{formId:this.formId,jsonStorage:n,listener:!0,id:!0})]})}}]),n}(i.Component),I=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this,n="checked"===this.props.jsonStorage.isGenreCheckedCS[this.props.id];return Object(h.jsxs)("div",{id:"checkboxStyle",children:[Object(h.jsx)("input",{name:"chkButton",value:this.props.id,type:"checkbox",id:this.props.id,className:"regular-checkbox",defaultChecked:n}),Object(h.jsx)("label",{htmlFor:this.props.id,children:(t=this.props.id,e.props.jsonStorage.genresNamesCS[t])})]})}}]),n}(i.Component),w=(i.Component,function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).inputText=function(e){var n=e.target.value;t.props.jsonStorage.textCS=n,t.forceUpdate()},t.inputTitle=function(e){var n=e.target.value;t.props.jsonStorage.titleCS=n,t.forceUpdate()},t}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{}),null!=this.props.jsonStorage?Object(h.jsxs)("div",{children:[Object(h.jsx)("h5",{children:Object(h.jsx)("textarea",{name:"ttl",cols:66,rows:1,form:"dizzy",value:this.props.jsonStorage.titleCS,onChange:this.inputTitle})}),Object(h.jsx)("h5",{children:Object(h.jsx)("textarea",{name:"msg",cols:66,rows:30,form:"dizzy",value:this.props.jsonStorage.textCS,onChange:this.inputText})})]}):"loading.."]})}}]),n}(i.Component)),N=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).url=void 0,i.submit=i.submit.bind(Object(l.a)(i)),i.url="/api/create",i}return Object(c.a)(n,[{key:"submit",value:function(t){t.preventDefault();var e=new FormData(this.props.formId),n={CheckedCheckboxesJS:e.getAll("chkButton").map((function(t){return Number(t)+1})),TextJS:e.get("msg"),TitleJS:e.get("ttl")},i=JSON.stringify(n);m.postData(this.props.listener,i,this.url)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"submitStyle",children:[Object(h.jsx)("input",{type:"checkbox",id:"submitButton",className:"regular-checkbox",onClick:this.submit}),Object(h.jsx)("label",{htmlFor:"submitButton",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}}]),n}(i.Component),F=C,B=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).url=void 0,i.mounted=void 0,i.state={data:null},i.click=function(t){t.preventDefault();var e=Number(t.target.id.slice(7)),n={pageNumber:i.state.data.pageNumber,navigationButtons:[e]},s=JSON.stringify(n);m.postData(Object(l.a)(i),s,i.url)},i.redirect=function(t){t.preventDefault();var e=Number(t.target.id);i.props.listener.setState({id:e})},i.delete=function(t){t.preventDefault();var e=Number(t.target.id);console.log("You want to delete song with id: "+e),m.deleteDataById(Object(l.a)(i),e,i.url,i.state.data.pageNumber)},i.url="/api/catalog",i.mounted=!0,i}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidMount",value:function(){m.getDataById(this,1,this.url)}},{key:"render",value:function(){if(!this.state.data)return null;for(var t=[],e=0;e<this.state.data.titlesAndIds.length;e++)t.push(Object(h.jsxs)("tr",{className:"bg-warning",children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"btn btn-outline-light",id:this.state.data.titlesAndIds[e].item2,onClick:this.redirect,children:this.state.data.titlesAndIds[e].item1})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"btn btn-outline-light",id:this.state.data.titlesAndIds[e].item2,onClick:this.delete,children:"\u274c"})})]},"song "+e));return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("p",{style:{marginLeft:"12%"},children:["\u0412\u0441\u0435\u0433\u043e \u043f\u0435\u0441\u0435\u043d: ",this.state.data.songsCount," \xa0 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430: ",this.state.data.pageNumber," \xa0"]}),Object(h.jsx)("p",{}),Object(h.jsx)("p",{}),Object(h.jsxs)("table",{className:"table",id:"catalogTable",children:[Object(h.jsx)("thead",{className:"thead-dark ",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{children:Object(h.jsxs)("form",{children:[Object(h.jsx)("button",{id:"js-nav-1",className:"btn btn-info",onClick:this.click,children:"<\u041d\u0430\u0437\u0430\u0434"}),"\xa0",Object(h.jsx)("button",{id:"js-nav-2",className:"btn btn-info",onClick:this.click,children:"\u0412\u043f\u0435\u0440\u0451\u0434>"})]})}),Object(h.jsx)("th",{})]})}),Object(h.jsx)("tbody",{children:t})]})]})}}]),n}(i.Component);window.textId=0;var D=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).visibilityCss=void 0,i.visibilityFlag=void 0,i.menu=void 0,i.buttons=void 0,i.state={id:null},i.select=i.select.bind(Object(l.a)(i)),i.visibilityCss=["act","pas","pas","pas"],i.visibilityFlag=[!0,!1,!1,!1],i.menu=["\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","\u041a\u0430\u0442\u0430\u043b\u043e\u0433"],i}return Object(c.a)(n,[{key:"select",value:function(t){var e=this,n=Number(t.currentTarget.getAttribute("id").slice(5));1===n&&0===window.textId||(this.visibilityFlag.forEach((function(t,n){return e.visibilityFlag[n]=!1})),this.visibilityFlag[n]=!this.visibilityFlag[n],this.forceUpdate())}},{key:"handleClick",value:function(t){t.preventDefault(),alert(t.currentTarget.tagName)}},{key:"componentDidUpdate",value:function(){this.state.id&&this.setState({id:null}),this.visibilityFlag[0]||a.render(Object(h.jsx)("div",{}),document.querySelector("#searchButton1"))}},{key:"render",value:function(){var t=this;this.state.id&&(this.visibilityFlag=[!1,!0,!1,!1],window.textId=this.state.id),this.visibilityFlag.forEach((function(e,n){return t.visibilityFlag[n]?t.visibilityCss[n]="act":t.visibilityCss[n]="pas"})),this.buttons=[];for(var e=0;e<4;e++)this.buttons.push(Object(h.jsx)("button",{onClick:this.select,id:"menu "+String(e),className:this.visibilityCss[e],children:this.menu[e]},"menu "+e));return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{id:"header",children:this.buttons}),!0===this.visibilityFlag[0]&&Object(h.jsx)("div",{id:"renderContainer1",children:Object(h.jsx)(p,{data:!0})}),!0===this.visibilityFlag[1]&&Object(h.jsx)("div",{id:"renderContainer",children:Object(h.jsx)(S,{listener:!0,formId:!0,id:!0,jsonStorage:!0})}),!0===this.visibilityFlag[2]&&Object(h.jsx)("div",{id:"renderContainer",children:Object(h.jsx)(F,{data:!0,time:!0})}),!0===this.visibilityFlag[3]&&Object(h.jsx)("div",{id:"renderContainer",children:Object(h.jsx)(B,{listener:this})})]})}}]),n}(i.Component);D.defaultProps={visibilityCss:["act","pas","pas","pas"],visibilityFlag:[!0,!1,!1,!1],menu:["\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c","\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","\u041a\u0430\u0442\u0430\u043b\u043e\u0433"]},a.render(Object(h.jsx)(b,{listener:void 0,formId:!0,jsonStorage:!0,id:!0}),document.querySelector("#renderLoginForm"));n(14),n(15);console.log("start"),r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.cc9d1c97.chunk.js.map